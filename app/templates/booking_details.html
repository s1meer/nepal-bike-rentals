{% if bike and bike.id %}
  <div class="bg-white rounded-lg shadow-md p-4 mb-4">
    <img src="{{ bike.image_url }}" alt="{{ bike.name }}" class="w-full h-48 object-cover rounded-t-lg">
    <h3 class="text-xl font-semibold text-gray-800 mt-2">{{ bike.name }}</h3>
    <p class="text-gray-600">Daily: NPR <span class="daily-rate">{{ bike.daily_rate }}</span></p>

    <!-- Debug: Display bike ID -->
    <p class="text-gray-500 text-sm">Bike ID: {{ bike.id }}</p>

    <form method="POST" action="{{ url_for('routes.booking_details') }}" class="mt-4">
      <input type="hidden" name="bike_id" value="{{ bike.id }}">
      <div class="mb-4">
        <label for="start_date_{{ bike.id }}" class="block text-sm font-medium text-gray-700">Start Date</label>
        <input type="date" id="start_date_{{ bike.id }}" name="start_date" value="{{ bike.selected_start_date if bike.selected_start_date else '' }}" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
      </div>
      <div class="mb-4">
        <label for="end_date_{{ bike.id }}" class="block text-sm font-medium text-gray-700">End Date</label>
        <input type="date" id="end_date_{{ bike.id }}" name="end_date" value="{{ bike.selected_end_date if bike.selected_end_date else '' }}" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
      </div>
      <div class="mb-4">
        <p id="total_price_{{ bike.id }}" class="text-gray-600">Total Price: NPR <span class="price-value">{{ bike.selected_total_price if bike.selected_total_price is defined else '0' }}</span></p>
      </div>
      {% if bike.selected_start_date and bike.selected_end_date %}
        <a href="{{ url_for('routes.submit_booking_details', bike_id=bike.id, start_date=bike.selected_start_date, end_date=bike.selected_end_date) }}" class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 text-center block">Proceed to Details</a>
      {% else %}
        <button type="submit" class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700">Proceed to Details</button>
      {% endif %}
    </form>
  </div>
{% else %}
  <p class="text-red-500">Error: Bike not found or invalid bike ID.</p>
{% endif %}